
@{
    ViewData["Title"] = "jQuery";
}

<h1>jQuery</h1>
<button id="buttonGet" class="btn btn-primary">get</button>
<button id="buttonPost" class="btn btn-secondary">post</button>
<button id="buttonJson" class="btn btn-success">getJson</button>
<button id="buttonLoad" class="btn btn-info">load</button>
<button id="buttonAjax" class="btn btn-warning">ajax</button>
<button id="buttonCors" class="btn btn-danger">cors</button>
<div class="alert alert-dark mt-3 w-50" role="alert" id="divAlert">

</div>
@section Scripts{
    <script>
        @*$('#buttonGet').click(function () {
            $.get('@Url.Content("~Api/Index")',{"name":"Jack","age":20},
                function (data) {
                    $('#divAlert').text(data)
                }


            

        })*@
        $('#buttonPost').click(function () {
            $.getJSON('@Url.Content("~/Api/Districts")', { "City:臺北市"}function (datas) {
                $.each(datas, function (idx, item) {
                    console.log(item);
                });
            })

            $('#divAlert').text("POST")
        })
        $('#buttonJson').click(function () {
            $('#divAlert').text("JSON")
        })
        $('#buttonLoad').click(function () {
            $('#divAlert').load('@Url.Content("~/Home/Partial")')
        })
        $('#buttonAjax').click(function () {
            $.ajax({
                url: "@Url.Content("~/Home/Partial")",
                type: "get",
                data: { "City": "臺北市" },
                dataType: "JSON"
            })
                .done((data)=> {

                    console.log(data);
                })
            $('#divAlert').text("AJAX")
        })
        $('#buttonCors').click(function () {
            const api = "https://localhost:44306/api/Shippers";
            $.getJSON(api, function (datas) {
                console.log(datas);
            })
            
            $('#divAlert').text("CORs")
        })

    </script>
}